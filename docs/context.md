# 对话上下文

ChatGPT 与其他 AI 机器人的一大区别在于，ChatGPT 可以记住较长时间内的对话历史。这使得 ChatGPT 能够在一次次的对话中学习到更多的概念，产生较为自然的回复。这被称为**对话上下文**。

对话上下文的存在使我们可以通过对话逐步构建出 ChatGPT 机器人的“人设”。例如，我们可以通过对话让 ChatGPT 机器人学会对某些人的称呼，学会对特定问题作出特定的回复，学会特别的用词和语气等等。

目前对话上下文是保存在**内存**里，每次重载插件或重启 Koishi 时都会丢失。

## 上下文共享方式

我们可以通过 [`interaction`](./config.md#interaction) 配置项来控制 ChatGPT 机器人的对话上下文共享方式。这个配置项目前有三种可选值：

- `user`：用户上下文
  ChatGPT 机器人会对每一位用户独立维护一个对话上下文。不管通过私聊还是群聊与 ChatGPT 机器人对话，都会使用同一个对话上下文。这可以使每位用户打造属于自己的个人助理。

- `channel`：频道上下文
  ChatGPT 机器人会在每个频道中独立维护一个对话上下文。在同一个频道里，不管哪位用户与 ChatGPT 机器人对话，都会使用同一个对话上下文。这有助于我们在同一个频道内维护一个“人设”。

- `both`：频道内用户上下文
  ChatGPT 机器人会对每一个频道中的每一位用户独立维护一个对话上下文。在此配置下，每位用户在不同的频道内都会有不同的对话上下文。

## 重置对话线程

当我们想要放弃当前的对话上下文，重新开始一个新的对话时，可以通过发送 `chatgpt -r` 指令来重置对话线程。这个指令只对当前的对话上下文有效，不会影响其他对话上下文。
